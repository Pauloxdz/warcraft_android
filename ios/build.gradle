/*
 * Copyright (c) 2020, Blair Butterworth
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

import org.robovm.compiler.target.ios.DeviceType
import org.robovm.compiler.target.ios.SDK

sourceSets.main.java.srcDirs = [ "src/" ]

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

ext {
	mainClassName = "com.evilbird.warcraft.ios.IosLauncher"
}

launchIPhoneSimulator.dependsOn build
launchIPadSimulator.dependsOn build
launchIOSDevice.dependsOn build
createIPA.dependsOn build

robovm {
	//iosSkipSigning = true
	//arch = "arm64"
}

task listSdks() {
	doLast {
		project.logger.lifecycle("--- Availble SDKS ---")
		for (SDK sdk : SDK.listSimulatorSDKs()) {
			project.logger.lifecycle(sdk.getDisplayName())
		}
	}
}

task listDevices() {
	doLast {
		project.logger.lifecycle("--- Availble Devices ---")
		for (DeviceType device : DeviceType.listDeviceTypes()) {
			project.logger.lifecycle(device.getDeviceName())
		}
	}
}